set -g mouse on
setw -g mode-keys vi
set -g default-terminal 'screen-256color'
set -g prefix C-Space
unbind C-b
bind C-Space send-prefix

### Default keymap
## window rename
# prefix + ,
## copy clipboard
# prefix + [

# Reload config
unbind r
bind r source-file ~/.tmux.conf \; display "Reloaded!"

# Set clipboard
set -g copy-command 'pbcopy'

# ë°˜ì‘ì†ë„ í–¥ìƒ
set -sg escape-time 0

# ë²¨ì†Œë¦¬ ë¬´ì‹œ
set -g bell-action none

# Show tmux list tree
bind i choose-tree -w
#bind -n C-n send-keys C-l # christoomey/vim-tmux-navigator ë•Œë¬¸ì— ctrl + lì´ í´ë¦¬ì–´ë¡œ ë™ì‘ x
bind -n M-q display-panes

# Move window order
bind -n C-S-Left swap-window -t -1\; select-window -t -1
bind -n C-S-Right swap-window -t +1\; select-window -t +1

# Use Alt-h,j,k,l keys without prefix key to resize panes
bind -n M-h resize-pane -L 5
bind -n M-j resize-pane -D 5
bind -n M-k resize-pane -U 2
bind -n M-l resize-pane -R 2

# move pane
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# kill window
bind X confirm-before -p "Kill window #W? (y/n)" kill-window

# Use Shift-arrow to switch windows
bind -n S-Left  previous-window
bind -n S-Right next-window

# Use | and - to split panes
bind . split-window -h
bind / split-window -v

# scrollback buffer size increase
set -g history-limit 100000

# disable window name auto change
set-option -g allow-rename off

# toggle pane title visibility
bind T run 'zsh -c "arr=( off top ) && tmux setw pane-border-status \${arr[\$(( \${arr[(I)#{pane-border-status}]} % 2 + 1 ))]}"'

# rename pane
bind t command-prompt -p "(rename-pane)" -I "#T" "select-pane -T '%%'"

set-window-option -g mode-keys vi

# ===== ìƒíƒœë°” ìŠ¤íƒ€ì¼ =====
set -g status-position top
set -g status-interval 1
set -g status-style 'bg=#282a36 fg=#f8f8f2'

# ì™¼ìª½: ì„¸ì…˜ëª…
set -g status-left-length 30
set -g status-left '#[fg=#282a36,bg=#50fa7b,bold] #S #[fg=#50fa7b,bg=#282a36] '

# ì˜¤ë¥¸ìª½: Git ë¸Œëœì¹˜ + ë‚ ì§œ ì‹œê°„
set -g status-right-length 100
set -g status-right '#{prefix_highlight} #[fg=#8be9fd]#[fg=#282a36,bg=#8be9fd] ğŸŒ¿ [#(cd #{pane_current_path}; git branch --show-current 2>/dev/null || echo "-")] #[fg=#6272a4,bg=#8be9fd]#[fg=#f8f8f2,bg=#6272a4] %Y/%m/%d #[fg=#bd93f9,bg=#6272a4]#[fg=#282a36,bg=#bd93f9,bold] %H:%M '

# ìœˆë„ìš° ë¦¬ìŠ¤íŠ¸
set -g status-justify left
set -g window-status-separator ''
set -g window-status-format '#[fg=#6272a4] #I:#W '
set -g window-status-current-format '#[fg=#282a36,bg=#ff79c6,bold] #I:#W #[fg=#ff79c6,bg=#282a36]'

# Pane êµ¬ë¶„ì„ 
set -g pane-border-style 'fg=#44475a'
set -g pane-active-border-style 'fg=#50fa7b'

# ë©”ì‹œì§€ ìŠ¤íƒ€ì¼
set -g message-style 'fg=#282a36 bg=#f1fa8c bold'

# ===== Prefix Highlight ì„¤ì • =====
set -g @prefix_highlight_fg '#282a36'
set -g @prefix_highlight_bg '#ff5555'
set -g @prefix_highlight_show_copy_mode 'on'
set -g @prefix_highlight_copy_mode_attr 'fg=#282a36,bg=#f1fa8c'

# TPM ê²½ë¡œ
set -g @plugin 'tmux-plugins/tpm'

# Plugins
#set -g @plugin 'christoomey/vim-tmux-navigator'
set -g @plugin 'tmux-plugins/tmux-prefix-highlight'
set -g @plugin 'tmux-plugins/tmux-yank'

set -g @resurrect-strategy-nvim 'session'
set -g @resurrect-strategy-vim 'session'
set -g @continuum-save-interval '15'
set -g @resurrect-capture-pane-contents 'on'

set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

# TPM ì´ˆê¸°í™” (ê¼­ ë§ˆì§€ë§‰ì— ìˆì–´ì•¼ í•¨)
run '~/.tmux/plugins/tpm/tpm'

